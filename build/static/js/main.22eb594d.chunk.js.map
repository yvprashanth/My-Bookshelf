{"version":3,"sources":["BooksAPI.js","ShelfChanger.js","Book.js","Bookshelf.js","SearchResults.js","Search.js","App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","ShelfChanger","_this$props","this","props","book","updateShelf","shelf","react_default","a","createElement","className","value","onChange","e","disabled","React","Component","Book","style","width","height","backgroundImage","concat","bookDetails","imageLinks","thumbnail","src_ShelfChanger","title","authors","Bookshelf","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","_this","selfbooks","filter","item","map","key","id","src_Book","SearchResults","searchResults","length","Search","handleChange","bind","assertThisInitialized","debouncedHandleChange","debounce","state","searchText","query","_this2","console","log","fetch","method","objectSpread","Content-Type","body","JSON","stringify","then","res","json","data","books","setState","event","target","trim","Link","to","type","placeholder","autoFocus","src_SearchResults","BooksApp","showSearchPage","index","_","findIndex","num","splice","toConsumableArray","toast","_this3","Route","path","exact","render","src_Bookshelf","src_Search","assign","lib","ReactDOM","BrowserRouter","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.22eb594d.chunk.js","sourcesContent":["\nconst api = \"https://reactnd-books-api.udacity.com\"\n\n\n// Generate a unique token for storing your bookshelf data on the backend server.\nlet token = localStorage.token\nif (!token)\n  token = localStorage.token = Math.random().toString(36).substr(-8)\n\nconst headers = {\n  'Accept': 'application/json',\n  'Authorization': token\n}\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then(res => res.json())\n    .then(data => data.book)\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then(res => res.json())\n    .then(data => data.books)\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: 'PUT',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ shelf })\n  }).then(res => res.json())\n\nexport const search = (query) =>\n  fetch(`${api}/search`, {\n    method: 'POST',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ query })\n  }).then(res => res.json())\n    .then(data => data.books)\n","import React from 'react'\nimport './App.css'\n\nclass ShelfChanger extends React.Component {\n    render(){\n        const { book, updateShelf, shelf } = this.props \n        return (\n            <div className=\"book-shelf-changer\">\n                <select value={shelf} onChange={(e) => updateShelf(e, book)}>\n                    <option value=\"move\" disabled>Move to...</option>\n                    <option value=\"currentlyReading\">Currently Reading</option>\n                    <option value=\"wantToRead\">Want to Read</option>\n                    <option value=\"read\">Read</option>\n                    <option value=\"none\">None</option>\n                </select>\n            </div>\n        )\n    }\n}\n\nexport default ShelfChanger","import React from 'react'\nimport './App.css'\nimport ShelfChanger from './ShelfChanger'\n\nclass Book extends React.Component {\n    render(){\n        return (\n            <div className=\"book\">\n                <div className=\"book-top\">\n                    <div className=\"book-cover\" style={{width:128, height:193, backgroundImage: `url(${this.props.bookDetails.imageLinks.thumbnail})`}}>\n                       <ShelfChanger book={this.props.bookDetails} updateShelf={this.props.updateShelf} shelf={this.props.bookDetails.shelf ? this.props.bookDetails.shelf : \"none\"}/>\n                    </div>\n                </div>\n                <div className=\"book-title\">{this.props.bookDetails.title}</div>\n                <div className=\"book-authors\">{this.props.bookDetails.authors}</div>\n            </div>\n        )\n    }\n}\n\nexport default Book","import React from 'react'\nimport './App.css'\nimport Book from './Book'\n\nclass Bookshelf extends React.Component {\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n        return (\n            <div className=\"bookshelf\">\n                <h2 className=\"bookshelf-title\">Currently Reading</h2>\n                <div className=\"bookshelf-books\">\n                    <ol className=\"books-grid\">\n                        {this.props.selfbooks.filter(item => item.shelf === \"currentlyReading\").map((book) => {\n                            return (\n                            <li key={book.id}>\n                                <Book bookDetails={book} updateShelf={this.props.updateShelf} />\n                            </li>\n                            )\n                        })}\n                    </ol>\n                </div>\n                <h2 className=\"bookshelf-title\">Want To Read</h2>\n                <div className=\"bookshelf-books\">\n                    <ol className=\"books-grid\">\n                        {this.props.selfbooks.filter(item => item.shelf === \"wantToRead\").map((book) => {\n                            return (\n                            <li key={book.id}>\n                                <Book bookDetails={book} updateShelf={this.props.updateShelf} />\n                            </li>\n                            )\n                        })}\n                    </ol>\n                </div>\n                <h2 className=\"bookshelf-title\">Read</h2>\n                <div className=\"bookshelf-books\">\n                    <ol className=\"books-grid\">\n                        {this.props.selfbooks.filter(item => item.shelf === \"read\").map((book) => {\n                            return (\n                            <li key={book.id}>\n                                <Book bookDetails={book} updateShelf={this.props.updateShelf} />\n                            </li>\n                            )\n                        })}\n                    </ol>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Bookshelf","import React from 'react'\nimport * as BooksAPI from './BooksAPI'\nimport Book from './Book'\n\nclass SearchResults extends React.Component {\n    constructor() {\n        super();\n    }\n\n    componentDidMount() {\n    }\n\n    render() {\n        return (\n        <div className=\"search-books-results\">\n            <ol className=\"books-grid\">\n                {(this.props.searchResults && this.props.searchResults.length) > 0 ? this.props.searchResults.map((book) => {\n                    return (\n                    <li key={book.id}>\n                        <Book bookDetails={book} updateShelf={this.props.updateShelf} />\n                    </li>\n                    )\n                }) : \"No Search Results? Try Astronomy, Android, Film, Fantasy, Cricket, Philosophy\"}\n            </ol>\n        </div>)\n    }\n}\n\nexport default SearchResults","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport SearchResults from './SearchResults'\nimport * as BooksAPI from './BooksAPI'\nimport debounce from 'lodash/debounce'\n\nclass Search extends React.Component {\n    constructor(){\n      super();\n      this.handleChange = this.handleChange.bind(this);\n      this.debouncedHandleChange = debounce(this.debouncedHandleChange.bind(this), 500);\n      this.state = {\n        searchText : '',\n        searchResults: []\n      }\n    }\n\n    debouncedHandleChange(value){\n      console.log(value)\n      BooksAPI.search(value).then((books) => {\n        console.log(books)\n        this.setState({searchResults:books})\n      });\n    }\n\n    handleChange(event) {\n      var value = event.target.value\n      this.setState({searchText: value})\n      this.debouncedHandleChange(value.trim()); // sending only the values not the entire event\n    }\n\n    render() {\n        return (\n            <div className=\"search-books\">\n            <div className=\"search-books-bar\">\n                <Link to=\"/\">\n                  <button className=\"close-search\">Close</button>\n                </Link>\n              <div className=\"search-books-input-wrapper\">\n                {}\n                <input type=\"text\" placeholder=\"Search by title or author\" autoFocus=\"autofocus\" \n                  value={this.state.searchText} onChange={this.handleChange}/>\n              </div>\n            </div>\n            <SearchResults searchText={this.state.searchText} searchResults={this.state.searchResults} updateShelf={this.props.updateShelf}/>\n          </div>\n        )\n    }\n}\n\nexport default Search","import React from 'react'\nimport * as BooksAPI from './BooksAPI'\nimport './App.css'\nimport Bookshelf from './Bookshelf'\nimport _ from 'lodash';\nimport Search from './Search'\nimport { Link } from 'react-router-dom'\nimport { Route } from 'react-router-dom'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass BooksApp extends React.Component {\n  constructor(props){\n    super(props);\n    this.updateShelf = this.updateShelf.bind(this);\n  }\n\n  state = {\n    /**\n     * TODO: Instead of using this state variable to keep track of which page\n     * we're on, use the URL in the browser's address bar. This will ensure that\n     * users can use the browser's back and forward buttons to navigate between\n     * pages, as well as provide a good URL they can bookmark and share.\n     */\n    books:[],\n    showSearchPage: false\n  }\n\n  updateShelf(e, book) {\n    book.shelf = e.target.value;\n    var index = _.findIndex(this.state.books, function(num) {\n      return num.id === book.id\n    });\n    if (index > -1) {\n      this.state.books.splice(index,1);\n    }\n    this.setState({\n      books: [...this.state.books, book]\n    })\n    toast(\"Book shelf changed!\");\n  }\n\n  componentDidMount(){\n    BooksAPI.getAll().then((books) => {\n      this.setState({books});\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"app\">    \n          <Route path=\"/\" exact render={()=> (\n              <div className=\"list-books\">\n                <div className=\"list-books-title\">\n                  <h1>Prashanth Bookreads</h1>\n                </div>\n                <div className=\"list-books-content\">\n                  <div>\n                      <Bookshelf selfbooks={this.state.books} updateShelf={this.updateShelf}/> \n                  </div>\n                </div>\n                <div className=\"open-search\">\n                  <Link to=\"/search\">\n                    <button>Add a book</button>\n                  </Link>\n                </div>\n              </div>\n          )}/>\n          <Route path=\"/search\" render={(props) => <Search {...props} updateShelf={this.updateShelf} />} />\n          <ToastContainer />\n      </div>\n    )\n  }\n}\n\nexport default BooksApp\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(<BrowserRouter>\n                    <App />\n                </BrowserRouter>, document.getElementById('root'));"],"sourceRoot":""}