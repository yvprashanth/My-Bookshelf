(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){},20:function(e,t,a){e.exports=a(31)},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),s=a(16),r=a.n(s),l=a(19),c=a(4),i=a(5),u=a(8),h=a(6),m=a(7),b=a(10),p=(a(14),"https://reactnd-books-api.udacity.com"),d=localStorage.token;d||(d=localStorage.token=Math.random().toString(36).substr(-8));var f={Accept:"application/json",Authorization:d},k=(a(11),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.book,a=e.updateShelf,o=e.shelf;return n.a.createElement("div",{className:"book-shelf-changer"},n.a.createElement("select",{value:o,onChange:function(e){return a(e,t)}},n.a.createElement("option",{value:"move",disabled:!0},"Move to..."),n.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),n.a.createElement("option",{value:"wantToRead"},"Want to Read"),n.a.createElement("option",{value:"read"},"Read"),n.a.createElement("option",{value:"none"},"None")))}}]),t}(n.a.Component)),E=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"book"},n.a.createElement("div",{className:"book-top"},n.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url(".concat(this.props.bookDetails.imageLinks.thumbnail,")")}},n.a.createElement(k,{book:this.props.bookDetails,updateShelf:this.props.updateShelf,shelf:this.props.bookDetails.shelf}))),n.a.createElement("div",{className:"book-title"},this.props.bookDetails.title),n.a.createElement("div",{className:"book-authors"},this.props.bookDetails.authors[0]))}}]),t}(n.a.Component),v=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"bookshelf"},n.a.createElement("h2",{className:"bookshelf-title"},"Currently Reading"),n.a.createElement("div",{className:"bookshelf-books"},n.a.createElement("ol",{className:"books-grid"},this.props.selfbooks.filter(function(e){return"currentlyReading"===e.shelf}).map(function(t){return n.a.createElement("li",{key:t.id},n.a.createElement(E,{bookDetails:t,updateShelf:e.props.updateShelf}))}))),n.a.createElement("h2",{className:"bookshelf-title"},"Want To Read"),n.a.createElement("div",{className:"bookshelf-books"},n.a.createElement("ol",{className:"books-grid"},this.props.selfbooks.filter(function(e){return"wantToRead"===e.shelf}).map(function(t){return n.a.createElement("li",{key:t.id},n.a.createElement(E,{bookDetails:t,updateShelf:e.props.updateShelf}))}))),n.a.createElement("h2",{className:"bookshelf-title"},"Read"),n.a.createElement("div",{className:"bookshelf-books"},n.a.createElement("ol",{className:"books-grid"},this.props.selfbooks.filter(function(e){return"read"===e.shelf}).map(function(t){return n.a.createElement("li",{key:t.id},n.a.createElement(E,{bookDetails:t,updateShelf:e.props.updateShelf}))}))))}}]),t}(n.a.Component),j=a(17),N=a.n(j),O=a(32),y=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"search-books"},n.a.createElement("div",{className:"search-books-bar"},n.a.createElement(O.a,{to:"/"},n.a.createElement("button",{className:"close-search"},"Close")),n.a.createElement("div",{className:"search-books-input-wrapper"},n.a.createElement("input",{type:"text",placeholder:"Search by title or author",autofocus:"autofocus"}))),n.a.createElement("div",{className:"search-books-results"},n.a.createElement("ol",{className:"books-grid"})))}}]),t}(n.a.Component),S=a(34),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={books:[],showSearchPage:!1},a.updateShelf=a.updateShelf.bind(Object(b.a)(Object(b.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"updateShelf",value:function(e,t){t.shelf=e.target.value;var a=N.a.findIndex(this.state.books,function(e){return e.id===t.id});a>-1&&this.state.books.splice(a,1),this.setState({books:[].concat(Object(l.a)(this.state.books),[t])})}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat(p,"/books"),{headers:f}).then(function(e){return e.json()}).then(function(e){return e.books}).then(function(t){e.setState({books:t})})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"app"},n.a.createElement(S.a,{path:"/",exact:!0,render:function(){return n.a.createElement("div",{className:"list-books"},n.a.createElement("div",{className:"list-books-title"},n.a.createElement("h1",null,"Prashanth Bookreads")),n.a.createElement("div",{className:"list-books-content"},n.a.createElement("div",null,n.a.createElement(v,{selfbooks:e.state.books,updateShelf:e.updateShelf}))),n.a.createElement("div",{className:"open-search"},n.a.createElement(O.a,{to:"/search"},n.a.createElement("button",null,"Add a book"))))}}),n.a.createElement(S.a,{path:"/search",component:y}))}}]),t}(n.a.Component),w=(a(30),a(33));r.a.render(n.a.createElement(w.a,null,n.a.createElement(g,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.d406a663.chunk.js.map